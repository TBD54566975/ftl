//go:build release

package goruntime

import (
	"archive/zip"
	"bytes"
	_ "embed"
	"io/fs"
)

//go:embed scaffolding.zip
var archive []byte

// Files is the FTL Go runtime scaffolding files.
//
// scaffolding.zip can be generated by running `bit go-runtime/scaffolding.zip`
// or indirectly via `bit build/release/ftl`.
var Files fs.FS = func() fs.FS {
	zr, err := zip.NewReader(bytes.NewReader(archive), int64(len(archive)))
	if err != nil {
		panic(err)
	}
	return zr
}()
