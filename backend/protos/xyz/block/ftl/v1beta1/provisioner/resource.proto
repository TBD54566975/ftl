syntax = "proto3";

package xyz.block.ftl.v1beta1.provisioner;

option go_package = "github.com/TBD54566975/ftl/backend/protos/xyz/block/ftl/v1beta1/provisioner;provisioner";
option java_multiple_files = true;

// ResourceProperty is an implementation specific property of the resource populated at creation time
message ResourceProperty {
  string resource_id = 1;
  string key = 2;
  string value = 3;
}

// Resource is an abstract resource extracted from FTL Schema.
//
// we use convention of prefixing field names with out_ if they are populated
// by the provisioning engine
message Resource {
  // id unique within the module
  string resource_id = 1;

  // Additional implementation specific properties populated
  // when the resource was created
  repeated ResourceProperty out_properties = 2;

  // direct downstream dependencies this Resource depends on
  repeated Resource dependencies = 3;

  oneof resource {
    FtlClusterResource ftl = 101;
    PostgresResource postgres = 102;
    MysqlResource mysql = 103;
  }
}

// Resource types

message FtlClusterResource {}

message PostgresResource {}

message MysqlResource {}
