-- migrate:up

CREATE DOMAIN encrypted_identity AS BYTEA;

CREATE TABLE identity_keys (
    id                  BIGINT NOT NULL GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    private             encrypted_identity NOT NULL,
    public              BYTEA NOT NULL,
    created_at          TIMESTAMPTZ NOT NULL DEFAULT (NOW() AT TIME ZONE 'utc'),
    verify_signature    BYTEA NOT NULL
);

-- migrate:down
